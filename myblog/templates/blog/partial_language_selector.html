{% load i18n %}

{% get_current_language as LANGUAGE_CODE %}
{% get_available_languages as LANGUAGES %}
{% get_language_info_list for LANGUAGES as languages %}

<div class="dropdown">
    <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
        Language
    </button>
    {% comment %} <a class="dropdown-toggle" href="#" id="Dropdown" role="button" data-mdb-toggle="dropdown" aria-expanded="false">
        <i class="flag-united-kingdom flag m-0"></i>
    </a> {% endcomment %}

    <ul class="dropdown-menu" aria-labelledby="Dropdown">
        {% for language in languages %}
            <li>
                <a class="dropdown-item" href="/{{ language.code }}/" {% if language.code == LANGUAGE_CODE %} class="selected"{% endif %}><i class="flag-germany flag"></i>{{ language.name_local }}</a>
            </li>
        {% endfor %}
         <li><hr class="dropdown-divider" /></li>
        <li>
            <a class="dropdown-item" href="#"><i class="flag-germany flag"></i>Deutsch</a>
        </li>
        <li>
            <a class="dropdown-item" href="#"><i class="flag-france flag"></i>Français</a>
        </li>
        <li>
            <a class="dropdown-item" href="#"><i class="flag-portugal flag"></i>Português</a>
        </li>
        <li>
            <a class="dropdown-item" href="#"><i class="flag-poland flag"></i>Polski</a>
        </li>
        {% comment %} <li>
            <a class="dropdown-item" href="#"><i class="flag-china flag"></i>中文</a>
        </li>
        <li>
            <a class="dropdown-item" href="#"><i class="flag-japan flag"></i>日本語</a>
        </li>
        <li>
            <a class="dropdown-item" href="#"><i class="flag-russia flag"></i>Русский</a>
        </li> {% endcomment %}
    </ul>
</div>

{% comment %} <div class="dropdown">
    <a class="dropdown-toggle" href="#" id="Dropdown" role="button" data-mdb-toggle="dropdown" aria-expanded="false">
        <i class="flag-united-kingdom flag m-0"></i>
    </a>

    <ul class="dropdown-menu" aria-labelledby="Dropdown">
        <li>
            <a class="dropdown-item" href="#"><i class="flag-united-kingdom flag"></i>English <i class="fa fa-check text-success ms-2"></i></a>
        </li>
        <li><hr class="dropdown-divider" /></li>
        <li>
            <a class="dropdown-item" href="#"><i class="flag-poland flag"></i>Polski</a>
        </li>
        <li>
            <a class="dropdown-item" href="#"><i class="flag-china flag"></i>中文</a>
        </li>
        <li>
            <a class="dropdown-item" href="#"><i class="flag-japan flag"></i>日本語</a>
        </li>
        <li>
            <a class="dropdown-item" href="#"><i class="flag-germany flag"></i>Deutsch</a>
        </li>
        <li>
            <a class="dropdown-item" href="#"><i class="flag-france flag"></i>Français</a>
        </li>
        <li>
            <a class="dropdown-item" href="#"><i class="flag-spain flag"></i>Español</a>
        </li>
        <li>
            <a class="dropdown-item" href="#"><i class="flag-russia flag"></i>Русский</a>
        </li>
        <li>
            <a class="dropdown-item" href="#"><i class="flag-portugal flag"></i>Português</a>
        </li>
    </ul>
</div>

<script>
    $('.dropdown').click(function(){
        $('.dropdown-menu').toggleClass('show');
    });
</script> {% endcomment %}